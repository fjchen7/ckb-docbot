A doc bot feed by CKB documentations including [rfcs](https://github.com/nervosnetwork/rfcs), [nervos docs](https://docs.nervos.org/) and [godwoken docs](https://docs.godwoken.io/). Built on [llama_index](https://github.com/jerryjliu/llama_index).

## Get Started

Configure your OpenAI API key.

```sh
> export OPENAI_API_KEY=<YOUR_KEY_HERE>
```

Python environment is necessary. Then install these requirements:

```sh
> pip install llama-index langchain ipython
```

Enter iPython interactive environment.

```sh
> ipython
```

Load index and query with any question.

```python
In [1]: run load_index.py
In [2]: print(index.query("What is CKB address?"))
CKB address is a type of address used in the Nervos Network. It has a variable length and is generated by three parameters: code hash, hash type, and args. There are different tools available to convert CKB address formats, and various wallets support transfer of funds using full addresses.
```

The queried LLM model behind is `gpt-3.5-turbo-0301`.

## Real Queries

What is CKB?

> CKB (Common Knowledge Base) is a public permissionless blockchain and layer 1 of the Nervos network, designed for a layered crypto-economy network. It separates the infrastructure of a crypto-economy into two layers: a verification layer (layer 1) that serves as a trust root and smart custodian, and a generation layer (layer 2) for high-performance transactions and privacy protection. CKB generates trust and extends this trust to upper layers, making Nervos a trust network. It's also the value store of the Nervos network, providing public, secure and censorship-resistant custody services for assets, identities and other common knowledge created in the network.

What is the consensus algorithm of CKB?

> The consensus algorithm of CKB is a variant of Nakamoto Consensus that raises its performance limit and selfish mining resistance while keeping its merits. It eliminates the bottleneck in block propagation latency, supports very short block interval without sacrificing security, and incorporates all valid blocks in the difficulty adjustment to mitigate selfish mining attacks.

How to encode CKB address?

> To encode CKB address, you can use the latest version of GO SDK or Java SDK, which provide functions to convert any address formats into the recommended new full address format. Lumos also provides a new `encodeToAddress` API to generate the new full address format. For more details, refer to the documentation of the respective SDK or Lumos.

What fields does a transaction have?

> A transaction has fields such as cell_deps, hash, header_deps, inputs, outputs, outputs_data, version, and witnesses.

What is simple UDT? What can it do?

> Simple UDT is a specification that provides a way for dapp developers to issue custom tokens on Nervos CKB. It defines a minimal standard for storing and transferring tokens, with more sophisticated actions left to CKB's flexibility to achieve. Simple UDT can transfer SUDTs from one or more SUDT holders to other SUDT holders, issue/mint new SUDTs, and support governance operations such as issuance, mint, burn, and other operations.

What is godwoken. How does it work?

> Godwoken is a layer 2 rollup framework for Nervos CKB that provides scaling capability and an account-based programming model to CKB. It uses a state validator type script to enforce security checks and ensure layer 2 funds stay secure in a decentralized environment. Godwoken provides a 256-bit key-value storage to applications running on it, which is built using a Sparse Merkle Tree. It uses an optimistic rollup workflow where aggregators collect layer 2 transactions, pack them into layer 2 blocks, and submit them to CKB. Unfinalized layer 2 blocks can be challenged by challengers if they appear malicious.

Will the scripts in outputs be executed when a transaction is submitted?

> The context information does not provide a clear answer to this question.

When is CKB's next havling?

> CKB's next halving is expected in November 2023.

Give me the step-by-step guide to configure and run a CKB node on mainnet.

> Step-by-step guide to configure and run a CKB node on mainnet:
> 
> 1. Download the latest release CKB binary file from the CKB releases page on GitHub.  
> 2. Unzip/extract the downloaded file to an easily accessible folder. For Windows, it is recommended to use `C:\ckb`, and for Mac, it is recommended to use `~/Documents`.  
> 3. Open up Terminal (Mac) or command line (Windows).  
> 4. Copy and paste the commands below into the Terminal (Mac) / Command Line (Windows):  
>   * On Mac:
>   ```
>  cd /Users/(NAME)/Documents/ckb_v0.32.1_x86_64-apple-darwin
>  ./ckb --version
>  ./ckb-cli --version
>   ```
>   * On Windows:
>   ```
>  cd C:/ckb_v0.32.1_x86_64-pc-windows-msvc
>  ckb --version
>  ckb-cli --version
>   ```
> 5. To run the CKB node, copy and paste the commands below into the Terminal (Mac) / Command Line (Windows):
>     * Initialize the node (run only once):
>     ```
>     ckb init --chain mainnet
>     ```
>     * Start the node:
>      ```
>     ckb run
>      ```


uncle block有什么用？

> Uncle blocks are used to increase the security of the blockchain by providing additional confirmation of transactions. They are blocks that are not on the main chain but are still valid and can be included in the blockchain as uncles. Uncle blocks can be the parent of a block on the main chain or the uncle of a block on the main chain. Including uncle blocks in the blockchain helps to reduce the likelihood of double-spending attacks and increases the overall security of the network.

## Cost

Tokens consumed by indexing:

```
> [build_index_from_nodes] Total embedding token usage: 464447 tokens.
```

The cost on OpenAPI is approximately $0.18.
